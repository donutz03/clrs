randomly-permute(a,n)
  for i=1 to n
    swap a[i] with a[random(i,n)]
